<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('partials/head', {title: 'Resultados de tu búsqueda'}) %>
<body>
	<!-- Header -->
	<%- include('partials/headerNavbar') %>
	<!-- /Header -->
	
	<!-- Banner -->
	<div class="banner"></div>
	<!-- /Banner -->

	<!-- todos los productos -->
	<div class="container products-wrapper">

		<div class="row">

			<div class="col-12">
				<!-- La propiedad length de un objeto string representa la longitud de una cadena -->
				<% if (result.length > 0) { %>
				<h2 class="products-title">Resultados de la búsqueda: <%- search %></h2>
			</div>

			<% result.forEach(product => { %>
				<div class="col-12 col-sm-6 col-lg-3">
					<section class="product-box">
						<a href="/products/detail/<%- product.id %>">

							<figure class="product-box_image">
								<img src="/images/products/<%- product.image %>" alt="Imagen de producto">
							</figure>

							<article class="product-box_data">
								<h2>$<%- product.price %></h2>
								<span><%- product.discount %>% OFF</span>
								<p>
                                    <% if (product.name.length > 30) { %>
                                        <%- `${product.name.slice(0,30)}...` %> 
                                    <% } else { %>
                                        <%= product.name %>
                                    <% } %>
								</p> 
								<!-- Dentro de la p en donde irá el nombre del producto usaremos el método slice(), 
								este extrae una sección de una cadena y devuelve una cadena nueva.
								En este caso, si el nombre del producto la cantidad de sus letras son mayores a 30, 
								ya no se verán completas(por un tema de espacio dentro de la tarjeta) -->
								<i class="fas fa-truck"></i>
							</article>

						</a>
					</section>
				</div>
			<% }) %> 

			<% }else{%>
			<div class="col-12">
				<h2 class="products-title" style="color: tomato;">No hay productos que coincidan con esa búsqueda</h2>
			</div>
			<% } %>

		</div>

	</div>
	<!-- /todos los productos -->

	<!-- footer -->
	<%- include('partials/footer') %>
	<!-- /footer -->
</body>	
</html>